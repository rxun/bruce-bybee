---
import Layout from '../components/Layout.astro';
import fs from 'fs';
import path from 'path';

// Check for hero image
function getHeroImage() {
  const photosDir = path.join(process.cwd(), 'public/photos');
  const heroExtensions = ['.jpg', '.jpeg', '.png', '.webp'];
  
  if (!fs.existsSync(photosDir)) {
    return null;
  }
  
  for (const ext of heroExtensions) {
    const heroPath = path.join(photosDir, `hero${ext}`);
    if (fs.existsSync(heroPath)) {
      return `/photos/hero${ext}`;
    }
  }
  return null;
}

const heroImage = getHeroImage();
---

<Layout title="Bruce Bybee Photography">
  <section class="min-h-screen flex items-start justify-start relative">
    <!-- Hero Background -->
    {heroImage && (
      <div class="absolute inset-0 z-0">
        <img 
          src={heroImage} 
          alt="Hero" 
          class="w-full h-full object-cover"
        />
        <div class="absolute inset-0 bg-black/30"></div>
      </div>
    )}
    
    <!-- Content -->
    <div class="relative z-10 max-w-7xl mx-auto px-8 pt-32 md:pt-40">
      <h1 class={`text-6xl md:text-8xl lg:text-9xl font-serif tracking-[0.2em] mb-8 ${heroImage ? 'text-white' : 'text-gray-900'}`}>
        BRUCE<br />BYBEE
      </h1>
      <div class="space-x-6 ml-1">
        <a 
          href="/gallery" 
          class={`inline-block px-8 py-3 text-sm tracking-wide transition-colors ${
            heroImage 
              ? 'bg-white text-black hover:bg-gray-100' 
              : 'bg-gray-900 text-white hover:bg-gray-800'
          }`}
        >
          View Work
        </a>
        <a 
          href="/contact" 
          class={`inline-block px-8 py-3 text-sm tracking-wide transition-colors ${
            heroImage 
              ? 'border border-white text-white hover:bg-white hover:text-black' 
              : 'border border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white'
          }`}
        >
          Contact
        </a>
      </div>
    </div>
  </section>
</Layout>
